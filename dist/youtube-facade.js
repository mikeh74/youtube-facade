(()=>{let e,t;let o=e=>{let t=document.createElement("link");t.rel="preconnect",t.href=e,document.head.appendChild(t)},a=(e=!1,t=["https://www.youtube-nocookie.com","https://www.google.com"],function(){e||(t.forEach(e=>{o(e)}),e=!0)});function n(){return window.innerWidth<600&&navigator.userAgent.includes("Mobi")}function u(e,t,o,a,n=!1){e.addEventListener(t,function(e){let t=e.target.closest(o);this.contains(t)&&a.call(t,e)},n)}function c(e){e.target.playVideo()}let r=!1,l=null;async function d(){return r?Promise.resolve(window.YT):l||(l=new Promise(e=>{var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o),window.onYouTubeIframeAPIReady=()=>{let t=window.YT;r=!0,e(t)}}))}async function i(e,t,o){return new(await d()).Player(e,{width:"720",height:"405",videoId:t,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",playerVars:o,events:{onReady:c}})}document.addEventListener("DOMContentLoaded",()=>{let e=document.createElement("div");e.classList.add("youtube-facade-modal"),e.innerHTML=`
      <div class="youtube-facade-modal-content">
        <button class="youtube-facade-modal-close" aria-label="Close modal">
          <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path class="youtube-facade-model-close-svg" fill="#ffffff" d="M 16.830797 20.000301 L 10.000151 13.16957 L 3.169428 20.000301 L -0 16.830883 L 6.830741 10.000151 L -0 3.169418 L 3.169428 0 L 10.000151 6.830732 L 16.830797 0 L 20 3.169418 L 13.16958 10.000151 L 20 16.830883 Z"/>
          </svg>
        </button>
        <div id="youtube-facade-modal-placeholder" class="youtube-facade-modal-inner">
        </div>
      </div>
    `,document.body.appendChild(e),document.querySelectorAll(".youtube-facade-modal-close").forEach(e=>{e.addEventListener("click",()=>{m()})}),document.addEventListener("keydown",e=>{("Escape"===e.key||"Esc"===e.key)&&m()})});let s=()=>{document.querySelector(".youtube-facade-modal").classList.toggle("youtube-facade-modal-active")},m=()=>{document.querySelector(".youtube-facade-modal").classList.remove("youtube-facade-modal-active"),document.querySelector("#youtube-facade-modal-placeholder").innerHTML=""};window.youtubeFacade=({selector:e=".youtube-facade",muteForAutoplay:t=!0}={})=>{let o={playsinline:1,autoplay:1,rel:0};t&&n()&&(o.mute=1),u(document,"click",e,t=>{t.preventDefault(),function(e,t){let o=function(e){let t=null;if(t=e.getAttribute("data-youtube-id"))return t;let o=e.getAttribute("href");try{t=new URL(o).searchParams.get("v")}catch(e){return console.error(e),null}return t}(e),a=e.hasAttribute("data-use-youtube-api")||navigator.vendor.includes("Apple")||navigator.userAgent.includes("Mobi");e.hasAttribute("data-mute-for-mobile")&&n()&&(t.mute=1),a?function(e,t,o){let a=e.getAttribute("data-youtube-modal"),n=e;if(a){let e=document.getElementById("youtube-facade-modal-placeholder"),t=document.createElement("div");t.classList.add("youtube-facade-iframe"),e.appendChild(t),n=t,s()}i(n,t,o).then(e=>{window.yfplayer=e})}(e,o,t):function(e,t,o){let a=function(e,t){let o=new URLSearchParams(t).toString(),a=document.createElement("iframe");return a.setAttribute("src",`https://www.youtube-nocookie.com/embed/${e}?${o}`),a.setAttribute("width","720"),a.setAttribute("height","405"),a.setAttribute("class","youtube-facade-iframe"),a.setAttribute("frameborder","0"),a.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),a.setAttribute("allowfullscreen",""),a}(t,o);e.getAttribute("data-youtube-modal")?(s(),document.querySelector("#youtube-facade-modal-placeholder").appendChild(a)):e.replaceWith(a)}(e,o,t)}(t.target.closest(e),o)}),u(document,"focusin",e,a,{once:!0}),document.querySelectorAll(e).forEach(e=>{e.addEventListener("pointerover",a,{once:!0})})}})();
//# sourceMappingURL=youtube-facade.js.map
